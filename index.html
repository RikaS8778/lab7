<!--
IST 107 - Introduction to Internet Programming and Web Applications
CCTB College
Instructor: Washington Valencia
-->
<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="CCTB - Introduction to Internet Programming and Web Applications">
    <title>CCTB - Introduction to Internet Programming and Web Applications</title>
    <!-- Link CSS files -->
    <link rel="stylesheet" href="css/core.min.css" />
    <link rel="stylesheet" href="css/vendor_bundle.min.css" />
    <!-- Link favicon-->
    <link rel="shortcut icon" type="image/x-icon"
        href="https://canvascctb.s3.ca-central-1.amazonaws.com/account_1/attachments/95/CCTB_favicon.ico" />

</head>

<body>
    <div id="wrapper">

        <!-- Header -->
        <header id="header" class="shadow-xs">

            <!-- Navbar -->
            <div class="container position-relative">

                <nav class="navbar navbar-expand-lg navbar-light justify-content-lg-between justify-content-md-inherit">

                    <div class="align-items-start">
                        <ul class="navbar-nav" id="menuTab">

                            <li class="nav-item dropdown">
                                <a href="#" id="mainNavBlog" class="nav-link" data-bs-toggle="dropdown"
                                    aria-haspopup="true" aria-expanded="false">
                                    <H3>Lab 7.1 Conditional execution & AWS & GIT</H3>
                                </a>
                            </li>

                        </ul>
                </nav>
            </div>
        </header>


        <div class="container py-5 mt-5">
            <h1 class="h2 mb-0 fw-bold">Contact Lists</h1>
            <p class="lead text-gray-700">Easily manage and display a list of contacts. Use the options to show, modify,
                or add new contacts. Extend the list dynamically with the provided tools to ensure efficient contact
                management.</p>

            <!-- Add more contacts dynamically -->
            <ul class="list-group" id="target">
                <li class="list-group-item">
                    Maxwell Wright / (0191) 719 6495 / agent1.@cctb.ca
                </li>
                <li class="list-group-item">
                    Tom MacDonalds / (0191) 777 6495 / agent2.@cctb.ca
                </li>
                <li class="list-group-item">
                    Helen Richards / (0191) 0800 1111 / agent3.@cctb.ca
                </li>
            </ul>

        </div>


        <!-- ADD MORE -->
        <div class="section py-5 border-bottom bg-warning">
            <div class="container">
                <div class="row text-center-xs">

                    <div class="col-12 col-md-8">
                        <h3 class="m-0"> To add a new contact, click on the "Add Contact" button and fill in the
                            required details.</h3>

                    </div>

                    <div class="col-12 mt-4 d-block d-md-none"><!-- mobile spacer --></div>

                    <div class="col-12 col-md-4 text-align-end">
                        <a href="#" class="btn btn-primary rounded-pill d-inline-flex align-items-end px-4"
                            id="sign-out">
                            <span class="me-2" onclick="return showPrompt()">Add Contact</span>
                            <svg width="18px" height="18px" xmlns="http://www.w3.org/2000/svg" fill="currentColor"
                                class="bi bi-arrow-right-short" viewBox="0 0 16 16">
                                <path fill-rule="evenodd"
                                    d="M4 8a.5.5 0 0 1 .5-.5h5.793L8.146 5.354a.5.5 0 1 1 .708-.708l3 3a.5.5 0 0 1 0 .708l-3 3a.5.5 0 0 1-.708-.708L10.293 8.5H4.5A.5.5 0 0 1 4 8z">
                                </path>
                            </svg>
                        </a>
                    </div>

                </div>
            </div>
        </div>
        <!-- /ADD MORE -->
    </div>

</body>
<script>
    let contacts = [{
        name: 'Maxwell Wright',
        phone: '(0191) 719 6495',
        email: 'agent1.@cctb.ca'
    }, {
        name: 'Tom MacDonalds',
        phone: '(0191) 777 6495',
        email: 'agent2.@cctb.ca'
    }, {
        name: 'Helen Richards',
        phone: '(0191) 0800 1111',
        email: 'agent3.@cctb.ca'
    }
    ];
    function showPrompt(){
        let userChoice;
        console.log(contacts);
        do {
            userChoice = prompt('Choose an option: first, last, new, or quit');
            if(userChoice === 'first') {
                console.log('First contact:' + contacts[0].name + '/' + contacts[0].phone + '/' + contacts[0].email);
            } else if (userChoice === 'last') {
                console.log('Last contact:' + contacts[contacts.length - 1].name + '/' + contacts[contacts.length - 1].phone + '/' + contacts[contacts.length - 1].email);
            } else if (userChoice === 'new') {
                let newName = prompt('Enter name:');
                let newPhone = prompt('Enter phone number:');
                let newEmail = prompt('Enter email address:');

                //validate input
                if(!newName || isNaN(newPhone) || !newEmail.includes('@')){
                    alert('Invalid input. Please try again.');
                    continue;
                }

                //Add new contact
                contacts.push({
                    name: newName,
                    phone: newPhone,
                    email: newEmail
                });
                let max_index = contacts.length - 1;
                console.log('New Contact added:' + newName)
                let ul = document.getElementById('target');
                let li = document.createElement('li')
                let new_text = contacts[max_index].name + ' / ' + contacts[max_index].phone + ' / ' + contacts[max_index].email;
                li.innerHTML = new_text
                li.setAttribute('class', 'list-group-item')
                ul.appendChild(li);
            } else if (userChoice === 'quit') {
                break
            }
        }
        while(true);
    }
</script>
</html>